<div ng-controller="TechController as techCtrl"> <div ng-repeat="techdto in techCtrl.allTechs"> <h1 style="color:{{techdto.color}}">{{techdto.civ}}</h1> <div class="row"> <div class="col-xs-12"> <table class="tech-pyramid"> <tbody> <tr> <td class="spacer" colspan="4"> <td class="researched" colspan="2" title="Space Flight" ng-if="techCtrl.getChosenTech(techdto.techs, 5).length > 0"> Space Flight  <td class="available" colspan="2" title="Space Flight" ng-if="techCtrl.getChosenTech(techdto.techs, 5).length == 0">Space Flight  <td class="spacer">  <tr> <td class="spacer" colspan="3"> <td class="researched" colspan="2" ng-repeat="tech in techCtrl.getChosenTech(techdto.techs, 4)" title="{{tech.name}}"> {{tech.name}}  <td class="available" colspan="2" title="21 trade needed to learn level 4 tech" ng-repeat="lvl in techCtrl.getAvailableTech(techdto.techs, 4)">21  <td class="spacer">  <tr> <td class="spacer" colspan="2"> <td class="researched" colspan="2" ng-repeat="tech in techCtrl.getChosenTech(techdto.techs, 3)" title="{{tech.name}}"> {{tech.name}}  <td class="available" colspan="2" title="16 trade needed to learn level 3 tech" ng-repeat="lvl in techCtrl.getAvailableTech(techdto.techs, 3)">16  <td class="spacer">  <tr> <td class="spacer" colspan="1"> <td class="researched" colspan="2" ng-repeat="tech in techCtrl.getChosenTech(techdto.techs, 2)" title="{{tech.name}}"> {{tech.name}}  <td class="available" colspan="2" title="11 trade needed to learn level 2 tech" ng-repeat="lvl2 in techCtrl.getAvailableTech(techdto.techs, 2)">11  <td class="spacer">  <tr> <td class="researched" colspan="2" ng-repeat="tech in techCtrl.getChosenTech(techdto.techs, 1)" title="{{tech.name}}"> {{tech.name}}  <td class="available" colspan="2" title="6 trade needed to learn level 1 tech" ng-repeat="lvl1 in techCtrl.getAvailableTech(techdto.techs, 1)">6    </table> </div> </div> </div> </div>